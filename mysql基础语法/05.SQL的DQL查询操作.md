## 1、基本查询
```
SELECT 字段1，字段2，... FROM 表名;
SELECT *FROM 表名
```

* 设置别名
```
SELECT 字段1[AS 别名],字段2[AS 别名]... FROM 表名;
```
* 去重复记录
```
SELECT DISTINCT 字段列表 FROM 表名;
```


->例如有如下表：
```
CREATE TABLE TB_EMPLOYEE

(

  ID      INT COMMENT '编号',

  WORK_NO   VARCHAR(10) COMMENT '工号',

  NAME     VARCHAR(10) COMMENT '姓名',

  GENDER    CHAR COMMENT '性别',

  AGE     TINYINT UNSIGNED COMMENT '年龄',

  ID_CARD   CHAR(18) COMMENT '身份证号',

  WORK_ADDRESS VARCHAR(50) COMMENT '工作地址',

  ENTRY_DATE  DATE COMMENT '入职时间'

) COMMENT '员工表';

# ================================

INSERT INTO TB_EMPLOYEE (ID, WORK_NO, NAME, GENDER, AGE, ID_CARD, WORK_ADDRESS, ENTRY_DATE)

VALUES (1, '1', '柳岩', '女', 20, '123456789012345678', '北京', '2000-01-01'),

    (2, '2', '张无忌', '男', 18, '123456789012345670', '北京', '2005-09-01'),

    (3, '3', '韦一笑', '男', 38, '123456789012345670', '上海', '2005-08-01'),

    (4, '4', '赵敏', '女', 18, '123456789012345670', '北京', '2009-12-01'),

    (5, '5', '小昭', '女', 16, '123456789012345678', '上海', '2007-07-01'),

    (6, '6', '杨逍', '男', 28, '12345678901234567X', '北京', '2006-01-01'),

    (7, '7', '范瑶', '男', 40, '123456789012345670', '北京', '2005-05-01'),

    (8, '8', '黛绮丝', '女', 38, '123456789012345670', '天津', '2015-05-01'),

    (9, '9', '范凉凉', '女', 45, '123456789012345678', '北京', '2010-04-01'),

    (10, '10', '陈友谅', '男', 53, '123456789012345670', '上海', '2011-01-01'),

    (11, '11', '张士诚', '男', 55, '123456789012345670', '江苏', '2015-05-01'),

    (12, '12', '常遇春', '男', 32, '123456789012345670', '北京', '2004-02-01'),

    (13, '13', '张三丰', '男', 88, '123456789012345678', '江苏', '2020-11-01'),

    (14, '14', '灭绝', '女', 65, '123456789012345670', '西安', '2019-05-01'),

    (15, '15', '胡青牛', '男', 70, '12345678901234567X', '西安', '2018-04-01'),

    (16, '16', '周芷若', '女', 18, NULL, '北京', '2012-06-01');
```
![image](https://github.com/user-attachments/assets/3b0f1c3f-95b6-4047-97aa-84bda14321c7)

* 查询
```
SELECT NAME ,AGE FROM tb_employee;
```
![image](https://github.com/user-attachments/assets/7ff08bb4-218c-469a-b776-4b59454883e1)

* 别名
```
SELECT NAME AS '姓名' , AGE '年龄' FROM tb_employee;
# AS可以省略
```
![image](https://github.com/user-attachments/assets/91cf6bdf-09f4-4aef-aa36-27957c1f9291)

* 去重
```
SELECT DISTINCT AGE FROM tb_employee;
```

## 2、条件查询
![image](https://github.com/user-attachments/assets/829a6b35-ace3-44c4-abc7-cf7e41faf33a)


```
SELECT 字段列表 FROM 表名 WHERE 条件列表;
```

例如：```SELECT * from tb_employee where age = 88;```

* 查询值为NULL的字段
```
SELECT * FROM tb_employee WHERE ID_CARD is NULL;
```
* 查询不为NULL的字段
```
SELECT * FROM tb_employee WHERE ID_CARD is NOT NULL;
```

* 查询不等于
```
方法1：select * from emp where age != 88;
方法2：select * from emp where age <> 88;
```

* 查询一段区间内
```
select * from emp where age >= 15 && age <= 20;
select * from emp where age >= 15 and age <= 20;
select * from emp where age between 15 and 20;
```

* 查询年龄等于18或20或40的员工信息
```
select * from emp where age =18 or age = 20 or age =40;
select *from emp where age in(18,20,40);
```
**IN()只要满足其中一个条件即可**

* 查询姓名为两个字的员工信息_%
```
select * from emp where name like '__';
```

* 查询身份证号最后一位是X的员工信息
```
select * from emp where idcard like '%X';
```

## 3、聚合函数
* 聚合函数：**将一列数据作为一个整体，进行纵向计算**
![image](https://github.com/user-attachments/assets/7a1ce858-362c-4ff4-85a9-5d1fdbcc1d6d)

```
SELECT 聚合字段(字段列表) FROM 表名;
```

* 统计该企业员工数量
```
select count(*) from emp;
select count(id) from emp;
```

* 统计该企业员工的平均年龄
```
select avg(age) from emp;
```

* 统计西安地区员工的年龄之和
```
select sum(age) from emp where workaddress='西安';
```

## 4、分组查询
```
SELECT 字段列表 FROM 表名[WHERE 条件] GROUP BY 分组字段名[HAVING 分组后过滤条件];
```
* where与having区别
  * 执行时机不同:where是分组之前进行过滤，不满足where条件，不参与分组:而having是分组之后对结果进行过滤
  * 判断条件不同:**where不能对聚合函数进行判断，而having可以**
 
* 根据性别分组,统计男性员工 和女性员工的数量
```
select gender, count(*) from tb_employee group by gender;
```
![image](https://github.com/user-attachments/assets/80ae5c03-68df-4580-8ec7-d04d05ba80cf)

* 根据性别分组，统计男性员工和女性员工的平均年龄
```
select gender, avg(age) from tb_employee group by gender;
```

* 查询年龄小于45的员工，并根据工作地址分组，获取员工数量大于等于3的工作地址
```
select workaddress,count(*) from emp where age < 45 group by workaddress having count(*) >= 3;
# 年龄小于45，以地址分组后，还有过滤用having,让员工数量大于等于3
```

## 5、排序查询
```
SELECT 字段列表 FROM 表名 ORDER BY 字段1 排序方式1,字段2 排序方式2;
```
* 排序方式:
  * ASC:升序(默认值)
  * DESC:降序
注意:如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序;

* 根据年龄对公司的员工进行升序排序
```
select * from emp order by age asc;
```

* 根据年龄对公司的员工进行升序排序，年龄相同，再按照入职时间进行降序排序
```
select * from emp order by age asc, entrydate desc;
select * from emp order by age , entrydate desc; #asc可以省略
```

## 6、分页查询
```
SELECT 字段列表 FROM 表名 LIMIT 起始索引,查询记录数;
```

* 注意
  * 起始索引从0开始，起始索引=(查询页码-1)*每页显示记录数
  * 分页查询是数据库的方言，不同的数据库有不同的实现，MySQL中是LIMIT
  * 如果查询的是第一页数据，起始索引可以省略，直接简写为limit 10

* 查询第1页员工数据，每页展示10条记录
```
select * from emp limit 0,10;
```

* 查询第2页员工数据，每页展示10条记录
```
select *from emp limit 10,10;
# (2-1)*10 = 10
```

## 7、DQL-执行顺序
![image](https://github.com/user-attachments/assets/30fb709e-8a62-4d69-ac38-d55d53f99514)


