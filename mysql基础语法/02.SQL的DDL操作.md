# sql分类

| 分类 | 全称 | 说明 |
|:--------:|:-------:|:-------:|
|DDL|Data Definition Language|数据定义语言，用来定义数据库对象(数据库，表，字段)|
|DML|Data Manipulation Language|数据操作语言，用来对数据库表中的数据进行增删改|
|DQL|Data Query Language|数据查询语言，用来查询数据库中表的记录|
|DCL|Data Control Language|数据控制语言，用来创建数据库用户、控制数据库的访问权限|

## DDL数据库操作
* 查询所有数据库
```
SHOW DATABASES;
```
*查询当前数据库
```
SELECT DATABASE();
```
* 创建
```
CREATE DATABASE 数据库名
CREATE DATABASE if not exists 数据库名  # 若不存在，不创建
CREATE DATABASE 数据库名 default charset utf8mb4  # 指定默认字符集
```
* 删除
```
DROP DATABASE 数据库名
DROP DATABASE if exists 数据库名 # 如果存在,删除(这样就不会报错)
```
* 使用
```
USE 数据库名
```

## DDL表操作
* 查询当前数据库所有表
```
SHOW TABLES;
```
* 查询表结构
```
DESC 表名;  # 基本表的信息
```
* 查询指定表的建表语句
```
SHOW CREATE TABLE 表名; # 详细信息
```

* 表的创建
```
CREATE TABLE 表名(
字段1 字段1类型[COMMENT 字段1注释],
字段2 字段2类型[COMMENT 字段2注释],
字段3 字段3类型[COMMENT 字段3注释],
......
字段n 字段n类型[COMMENT 字段n注释]
)[COMMENT 表注释];
# comment 即注释
```
例如创建如下：
![image](https://github.com/user-attachments/assets/cd025d64-76e5-4603-9151-07ecd6f76778)

```
create table tb_user(
  id int comment '编号',
  name varchar(50) comment '姓名',
  age int comment '年龄',
  gender varchar(1) comment '性别'
  ) comment '用户表';
```
* 通过**desc**查询得到：
![image](https://github.com/user-attachments/assets/3bac84ba-15da-4543-b8b3-6889cf32cadf)

# DDL修改表操作
## 添加字段
```
ALTER TABLE 表名 ADD 字段名 类型() [COMMNET 注释][约束]；
```

首先创建了一张表：
```
create table emp(
id int comment '编号',
workno varchar(10) comment '工号',
name varchar(10) comment '姓名',
gender char(1) comment '性别',
age tinyint unsigned comment '年龄',
idcard char(18) comment '身份证号',
entrydate date comment '入职时间'
) comment '员工表';
```
![image](https://github.com/user-attachments/assets/0d10f040-3c1d-4d90-9ebc-0152cbba1b82)

```
ALTER TABLE emp add nickname varchar(20) comment '昵称';
```
![image](https://github.com/user-attachments/assets/b36d2cc7-b813-4c86-a713-75d55a8bb0f1)

## 修改字段
  * 修改数据类型
```
ALTER TABLE 表名 MODIFY 字段名 新数据类型(长度)；
```
  * 修改字段名和字段类型
```
ALTER TABLE 表明 CHANGE 旧字段名 新字段名 类型(长度)[COMMNET 注释][约束]
```
* 例如：```ALTER TABLE emp change nickname username varchar(30) comment '用户名';```

* 删除字段
```
ALTER TABLE 表名 DROP 字段名;
```
  * 例如：```ALTER TABLE emp drop username; ```

## 修改表名
```
ALTER TABLE 表名 RENAME TO 新表名;
```

## 删除表
* 删除表
```
DROP TABLE[IF EXISTS] 表名;
# 不存在不报错[if exists]
```
* 删除指定表,并重新创建该表
```
TRUNCATE TABLE 表名;
```
